<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>{{park_data[0]["fullName"]}}</title>
    <link rel="stylesheet" href="../static/css/park_style.css">
  </head>
  <body>
    {% extends "template.html" %}
    {% block content %}
    <div id="spacing"></div>

    <div id="headerImg" style="background-image: url({{image}})">
        <div id="parkName">
            {{park_data[0]["fullName"]}} 
        </div>
    </div>
    <!-- <div id="titlebar">
        <nav class="navbar navbar-expand-lg navbar-dark style="background-color: black">
            <a class="navbar-brand" id="titletext" href="#">Park Information</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#menu" aria-controls="menu" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="menu">
                
            </div>
        </nav>
    </div> -->
    <div id="titlebar">
            <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: black;">
                    <a class="navbar-brand" id="titletext" href="" onclick="changeVisibility('des');">Park Information</a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#menu" aria-controls="menu" aria-expanded="false" aria-label="Toggle navigation">
                      <span class="navbar-toggler-icon"></span>
                    </button>
                  
                    <div class="collapse navbar-collapse" id="menu">
                        <ul class="navbar-nav">
                            <li class="nav-item active">
                                <a class="nav-link" href="" onclick="changeVisibility('camp');">Campgrounds</a>
                            </li>
                            <li class="nav-item active">
                                <a class="nav-link" href="" onclick="changeVisibility('articles');"">Articles</a>
                            </li>
                            <li class="nav-item active">
                                <a class="nav-link" href="" onclick="changeVisibility('events');"">Events</a>
                            </li>
                            <li class="nav-item active">
                                <a class="nav-link" href="" onclick="changeVisibility('news');"">News Releases</a>
                            </li>
                            <li class="nav-item active">
                                <a class="nav-link" href="" onclick="changeVisibility('reading');"">Further Reading</a>
                            </li>
                        </ul>
                    </div>
                  </nav>
    <div id="organizer">
        
        <div id="changinginfo">
            <div class="container" id="des">
                <div class="sectiontitle">Overview:</div>
                <div class="txtblock">
                        {{park_data[0]["description"]}}
                </div>
                <div class="txtblock">
                    {{park_data[0]["directionsInfo"]}}
                </div>
                <div id="spacing"></div>
                <div class="sectiontitle">Visitor Centers:</div>
                <div class="txtblock" id="vc"></div>
            </div>
    
            <div class="container" id="camp">
                <div class="sectiontitle">Campgrounds:</div>
                <div class="txtblock" id="campbody"></div>
            </div>

            <div class="container" id="articles">
                <div class="sectiontitle">Articles:</div>
                <div> LOREM IPSUM DOLOR SIT AMET</div>
            </div>

            <div class="container" id="events">
                <div class="sectiontitle">Events:</div>
                <div> LOREM IPSUM DOLOR SIT AMET</div>
            </div>

            <div class="container" id="news">
                <div class="sectiontitle">News:</div>
                <div> LOREM IPSUM DOLOR SIT AMET</div>
            </div>

            <div class="container" id="reading">
                <div class="sectiontitle">Further Reading:</div>
                <div> LOREM IPSUM DOLOR SIT AMET</div>
            </div>
        </div>


        <div class="sidebar">
            <div class="sectiontitle">Alerts:</div>
            <div class="txtblock" id="alert"></div>
            <div class="sectiontitle">Operating Hours:</div>
            <div class="txtblock">
                <div class="tab"><b>Sunday: </b><span>{{oh_data[0]}}</span></div>
                <div class="tab"><b>Monday: </b><span>{{oh_data[1]}}</span></div>
                <div class="tab"><b>Tuesday: </b><span>{{oh_data[2]}}</span></div>
                <div class="tab"><b>Wednesday: </b><span>{{oh_data[3]}}</span></div>
                <div class="tab"><b>Thursday: </b><span>{{oh_data[4]}}</span></div>
                <div class="tab"><b>Friday: </b><span>{{oh_data[5]}}</span></div>
                <div class="tab"><b>Saturday: </b><span>{{oh_data[6]}}</span></div>
            </div>
        </div>
    </div>

    <script>

        // visibility of divs
        function changeVisibility(elementid) {
            document.getElementById("des").style.display = "none";
            document.getElementById("camp").style.display = "none";
            document.getElementById("articles").style.display = "none";
            document.getElementById("events").style.display = "none";
            document.getElementById("news").style.display = "none";
            document.getElementById("reading").style.display = "none";
            document.getElementById(elementid).style.display = "block";
        }


        // ALERTS
        var alertblock = document.createElement("div");
        console.log({{alert_data|tojson}});
        if ( {{alert_data|tojson}}["total"] == 0)
        {
            var alerttext = document.createTextNode("No alerts at this time");
            alertblock.appendChild(alerttext);
        }
        else {
            for (i = 0; i < {{alert_data|tojson}}["total"]; i++)
            {
                // image
                var alerticon = document.createElement("IMG");
                alerticon.src = "/static/images/alerticon.png";
                alerticon.className = "alerticonstyle";

                var titlenode = document.createElement("div");
                var alerttitle = document.createTextNode({{alert_data|tojson}}["data"][i]["title"]);
                titlenode.className = "boldtxt";
                titlenode.appendChild(alerticon);
                titlenode.appendChild(alerttitle);
                
                var textnode = document.createElement("div");
                var alerttext = document.createTextNode({{alert_data|tojson}}["data"][i]["description"]);
                textnode.className = "txtblock";
                textnode.appendChild(alerttext);
                alertblock.appendChild(titlenode);
                alertblock.appendChild(textnode);
                var enter = document.createElement("br");
                alertblock.appendChild(enter);
            }
        }
        var element = document.getElementById("alert");
        element.appendChild(alertblock);

        // VISITOR CENTERS
        var vcblock = document.createElement("div");
        console.log({{vc_data|tojson}});
        if ( {{vc_data|tojson}}["total"] == 0)
        {
            var vctext = document.createTextNode("No visitor centers available at this park.");
            vcblock.appendChild(vctext);
        }
        else {
            for (i = 0; i < {{vc_data|tojson}}["total"]; i++)
            {
                // make title a link if there is extra data
                if ({{vc_data|tojson}}["data"][i]["directionsUrl"])
                {
                    var titlenode = document.createElement("a");
                    var vctitle = document.createTextNode({{vc_data|tojson}}["data"][i]["name"]);
                    titlenode.appendChild(vctitle);
                    titlenode.className = "boldtxtlink";
                    titlenode.setAttribute("href", {{vc_data|tojson}}["data"][i]["directionsUrl"]);
                }
                else{
                    var titlenode = document.createElement("div");
                    var vctitle = document.createTextNode({{vc_data|tojson}}["data"][i]["name"]);
                    titlenode.appendChild(vctitle);
                    titlenode.className = "boldtxt";
                }
                
                var textnode = document.createElement("div");
                var vctext = document.createTextNode({{vc_data|tojson}}["data"][i]["description"]);
                var textnode2 = document.createElement("div");
                var vctext2 = document.createTextNode({{vc_data|tojson}}["data"][i]["directionsInfo"]);
                textnode.className = "txtblock";
                textnode.appendChild(vctext);
                textnode2.appendChild(vctext2);

                vcblock.appendChild(titlenode);
                vcblock.appendChild(textnode);
                vcblock.appendChild(textnode2);
                var enter = document.createElement("br");
                vcblock.appendChild(enter);
            }
        }
        var element = document.getElementById("vc");
        element.appendChild(vcblock);

        // CAMPGROUNDS
        var campblock = document.createElement("div");
        console.log({{camp_data|tojson}});
        if ( {{camp_data|tojson}}["total"] == 0)
        {
            var camptext = document.createTextNode("No campgrounds available at this park.");
            campblock.appendChild(camptext);
        }
        else {
            var weathernode = document.createElement("div");
            var weathertxt = document.createTextNode({{camp_data|tojson}}["data"][0]["weatheroverview"]);
            weathernode.appendChild(weathertxt);
            weathernode.className = "txtblock";
            campblock.appendChild(weathernode);

            var regulationsnode = document.createElement("div");
            var regulationstxt = document.createTextNode("Check out campsite regulations here: ");
            var regulationshref = document.createElement("a");
            var regulationsurl = document.createTextNode({{camp_data|tojson}}["data"][0]["regulationsurl"]);
            regulationshref.href = {{camp_data|tojson}}["data"][0]["regulationsurl"];
            regulationshref.appendChild(regulationsurl);
            regulationsnode.appendChild(regulationstxt);
            regulationsnode.appendChild(regulationshref);
            regulationsnode.className = "txtblock";
            campblock.appendChild(regulationsnode);
            var division = document.createElement("br");
            campblock.appendChild(division);

            for (i = 0; i < {{camp_data|tojson}}["total"]; i++)
            {
                // make title a link if there is extra data
                if ({{camp_data|tojson}}["data"][i]["reservationsUrl"])
                {
                    var titlenode = document.createElement("a");
                    var camptitle = document.createTextNode({{camp_data|tojson}}["data"][i]["name"]);
                    titlenode.appendChild(camptitle);
                    titlenode.className = "boldtxtlink";
                    titlenode.setAttribute("href", {{camp_data|tojson}}["data"][i]["reservationsUrl"]);
                }
                else{
                    var titlenode = document.createElement("div");
                    var camptitle = document.createTextNode({{camp_data|tojson}}["data"][i]["name"]);
                    titlenode.appendChild(camptitle);
                    titlenode.className = "boldtxt";
                }
                
                var textnode = document.createElement("div");
                var camptext = document.createTextNode({{camp_data|tojson}}["data"][i]["description"]);
                textnode.className = "txtblock";
                textnode.appendChild(camptext);

                campblock.appendChild(titlenode);
                campblock.appendChild(textnode);
                var enter = document.createElement("br");
                campblock.appendChild(enter);
            }
        }
        var element = document.getElementById("campbody");
        element.appendChild(campblock);
    </script>
    {% endblock %}
  </body>
</html>